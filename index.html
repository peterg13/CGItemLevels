<!DOCTYPE html>
<html lang="en">
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>

	<div>
		<div id="addCharacterContainer">
		  <h1>Add Character</h1>
		  <form>
		    <input type="text" name="charName" placeholder="Character" id="charName">
		    <input type="text" name="charRealm" placeholder="Realm" id="charRealm">
		    <a id="submitButton">Add</a>
		    </form>
		</div>

		<div id="removeCharacterContainer">
		  <h1>Remove Character</h1>
		  <form>
		    <input type="text" name="charName" placeholder="Character" id="charNameToRemove">
		    <a id="removeButton">Remove</a>
		    </form>
		</div>
	</div>


	<button id="updateButton"> update </button>
	<script>
	$("#removeButton").on("click",function(){
		var name = document.getElementById("charNameToRemove").value;
		$.ajax({
			url: '/removeCharacter',
			method: 'POST',
			data: {name: name},
			dataType: 'json',
		}).done(function(response){
			console.log(response);
		});
	
	})
	</script>
	<script>
	$("#submitButton").on("click",function(){
		var name = document.getElementById("charName").value;
		var realm = document.getElementById("charRealm").value;
		$.ajax({
			url: '/newCharacter',
			method: 'POST',
			data: {name: name, realm: realm},
			dataType: 'json',
		}).done(function(response){
			console.log(response);
		});
	
	})
	</script>
	<script>
	$("#updateButton").on("click",function(){
		$.ajax({
			url: '/update',
			method: 'GET',
		}).done(function(response){
			console.log(response);
		});
	})
	</script>
	<script>$( document ).ready(function() {
    $.ajax({
			url: '/pullTable',
			method: 'GET',
		}).done(function(response){
			//$("body").append("<b>" + response.name + response.realm + response.ilvl + "</b>");
			console.log(response);
			for(i = 0; i < response.length; i++){
				$("body").append("<div>" + response[i].name + '-' + response[i].realm + '-' + response[i].ilvl + "</div>");
			}
		});
});</script>

	
</html>